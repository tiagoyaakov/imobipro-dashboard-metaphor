# üèõÔ∏è M√≥dulo Lei do Inquilino - ImobiPRO Agent\n\n## Vis√£o Geral\n\nO m√≥dulo **Lei do Inquilino** √© um assistente jur√≠dico inteligente especializado em quest√µes imobili√°rias, powered by IA e integrado com N8N para processamento avan√ßado de consultas legais.\n\n## üöÄ Funcionalidades Principais\n\n### ü§ñ ImobiPRO Agent\n- **Assistente IA Especializado**: Treinado em legisla√ß√£o imobili√°ria brasileira\n- **Respostas Contextuais**: Base de conhecimento focada na Lei 8.245/91\n- **Refer√™ncias Legais**: Cita√ß√µes autom√°ticas de artigos e leis aplic√°veis\n- **Sugest√µes Inteligentes**: Perguntas relacionadas para aprofundar a consulta\n\n### üí¨ Interface de Chat Avan√ßada\n- **Design Moderno**: Interface robusta e exclusiva seguindo o padr√£o ImobiPRO\n- **Chat em Tempo Real**: Comunica√ß√£o fluida com indicadores de digita√ß√£o\n- **Markdown Support**: Formata√ß√£o rica nas respostas do agente\n- **Anexos**: Suporte a documentos e imagens (configur√°vel)\n\n### üîß Integra√ß√£o N8N\n- **Workflows Automatizados**: Processamento via N8N webhooks\n- **Fallback Inteligente**: Sistema local quando N8N indispon√≠vel\n- **Configura√ß√£o Flex√≠vel**: Webhook URL, timeouts e retry configur√°veis\n- **Teste de Conectividade**: Verifica√ß√£o autom√°tica do status da integra√ß√£o\n\n### üìä Gest√£o de Sess√µes\n- **Hist√≥rico Completo**: Todas as consultas organizadas por categoria\n- **Sess√µes Ativas**: M√∫ltiplas conversas simult√¢neas\n- **Categoriza√ß√£o Autom√°tica**: Lei do Inquilinato, Contratos, Despejo, Reformas\n- **Busca e Filtros**: Localiza√ß√£o r√°pida de consultas anteriores\n\n## üèóÔ∏è Arquitetura T√©cnica\n\n### Componentes Principais\n\n```typescript\n// Interface principal do chat\n<ChatInterface />\n\n// Sidebar para gest√£o de sess√µes\n<ChatSidebar />\n\n// Configura√ß√µes avan√ßadas\n<ChatSettings />\n\n// Analytics e m√©tricas\n<ChatAnalytics />\n```\n\n### Hooks Customizados\n\n```typescript\n// Hook principal para gerenciar o chat\nconst {\n  messages,\n  currentSession,\n  agentStatus,\n  sendMessage,\n  createNewSession\n} = useLeiInquilinoChat();\n```\n\n### Servi√ßos\n\n```typescript\n// Integra√ß√£o com N8N\nimport { n8nLegalService } from '@/services/n8nLegalService';\n\n// Enviar mensagem para processamento\nconst response = await n8nLegalService.sendMessage(message, {\n  sessionId: 'session-123',\n  userId: 'user-456',\n  category: 'rent-law'\n});\n```\n\n## üé® Design System\n\n### Cores e Temas\n- **Gradiente Principal**: Purple 500 ‚Üí Pink 500 (Agente IA)\n- **Cor Prim√°ria**: ImobiPRO Blue (#0EA5E9)\n- **Status Indicators**: Green (online), Yellow (busy), Red (error)\n- **Dark Mode**: Suporte completo com vari√°veis CSS\n\n### Componentes UI\n- **Cards Modernos**: Sombras suaves e bordas arredondadas\n- **Badges Informativos**: Status e categorias com cores consistentes\n- **Buttons Interativos**: Estados hover e loading com anima√ß√µes\n- **Progress Indicators**: Feedback visual para a√ß√µes ass√≠ncronas\n\n## üìö Categorias Legais\n\n### 1. Lei do Inquilinato\n- Direitos e deveres de locadores/locat√°rios\n- Reajustes de aluguel\n- Rescis√£o antecipada\n- Dep√≥sito cau√ß√£o\n\n### 2. Contratos de Loca√ß√£o\n- Elabora√ß√£o e an√°lise de contratos\n- Cl√°usulas especiais\n- Renova√ß√£o autom√°tica\n- Garantias locat√≠cias\n\n### 3. A√ß√µes de Despejo\n- Despejo por falta de pagamento\n- Den√∫ncia vazia\n- Prazos processuais\n- Purga da mora\n\n### 4. Reformas e Benfeitorias\n- Responsabilidade por reparos\n- Benfeitorias necess√°rias\n- Direito de reten√ß√£o\n- Manuten√ß√£o predial\n\n## ‚öôÔ∏è Configura√ß√£o\n\n### Vari√°veis de Ambiente\n\n```bash\n# URL do webhook N8N\nNEXT_PUBLIC_N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/legal-assistant\n\n# API Key para autentica√ß√£o (opcional)\nN8N_API_KEY=your-secret-api-key\n```\n\n### Configura√ß√£o N8N\n\n```typescript\nconst config = {\n  webhookUrl: 'https://your-n8n.com/webhook/legal-assistant',\n  apiKey: 'optional-bearer-token',\n  timeout: 30000, // 30 segundos\n  retryAttempts: 3\n};\n\nn8nLegalService.updateConfig(config);\n```\n\n## üîí Seguran√ßa\n\n### Medidas Implementadas\n- **Sanitiza√ß√£o de Entrada**: Valida√ß√£o de todas as mensagens do usu√°rio\n- **Rate Limiting**: Controle de frequ√™ncia de mensagens\n- **Autentica√ß√£o**: Integra√ß√£o com sistema de auth do ImobiPRO\n- **HTTPS Only**: Comunica√ß√£o criptografada com N8N\n- **Token-based Auth**: Bearer tokens para webhooks (opcional)\n\n### Compliance\n- **LGPD**: Dados processados conforme legisla√ß√£o brasileira\n- **Confidencialidade**: Todas as consultas s√£o privadas por usu√°rio\n- **Reten√ß√£o**: Configura√ß√£o de tempo de armazenamento de sess√µes\n\n## üìä Analytics e M√©tricas\n\n### M√©tricas Coletadas\n- Total de sess√µes por usu√°rio\n- Tempo m√©dio de resposta\n- Categorias mais consultadas\n- Satisfa√ß√£o do usu√°rio (ratings)\n- Taxa de sucesso das integra√ß√µes\n\n### Dashboard de Analytics\n```typescript\n<ChatAnalytics analytics={{\n  totalSessions: 150,\n  activeSessions: 3,\n  averageResponseTime: 2500,\n  popularCategories: [...],\n  userSatisfaction: { average: 4.8, total: 95 }\n}} />\n```\n\n## üöÄ Deployment\n\n### Pr√©-requisitos\n1. **N8N Instance**: Configurada com workflow de processamento legal\n2. **Webhook Endpoint**: URL p√∫blica acess√≠vel\n3. **Database**: Para persist√™ncia de sess√µes (opcional)\n\n### Steps\n1. Configure as vari√°veis de ambiente\n2. Deploy da aplica√ß√£o Next.js\n3. Configure o workflow N8N\n4. Teste a conectividade\n\n## üîÑ Workflow N8N Sugerido\n\n```json\n{\n  \"trigger\": \"webhook\",\n  \"nodes\": [\n    {\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"parameters\": {\n        \"path\": \"legal-assistant\"\n      }\n    },\n    {\n      \"name\": \"Process Message\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"parameters\": {\n        \"functionCode\": \"// Processar mensagem legal\"\n      }\n    },\n    {\n      \"name\": \"AI Service\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"parameters\": {\n        \"url\": \"https://api.openai.com/v1/chat/completions\"\n      }\n    },\n    {\n      \"name\": \"Format Response\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"parameters\": {\n        \"functionCode\": \"// Formatar resposta com refer√™ncias legais\"\n      }\n    }\n  ]\n}\n```\n\n## ü§ù Contribui√ß√£o\n\nPara contribuir com o m√≥dulo:\n1. Mantenha o padr√£o de design do ImobiPRO\n2. Adicione testes para novas funcionalidades\n3. Documente mudan√ßas na API\n4. Siga as guidelines de TypeScript\n\n## üìÑ Licen√ßa\n\nEste m√≥dulo faz parte do sistema ImobiPRO e est√° sujeito √†s mesmas condi√ß√µes de licenciamento.\n\n---\n\n**Desenvolvido com ‚ù§Ô∏è para o ImobiPRO**  \n*Transformando a experi√™ncia jur√≠dica imobili√°ria com IA*